(function(t,a){"use strict";var e;t=t||{},a.extend(t,{PostAjaxModal:{defaults:{elements:".page-portfolios"},initialize:function(t,e){return this.$elements=t||a(this.defaults.elements),void 0===e&&(e="portfolio"),this.build(e),this},build:function(o){var n={$wrapper:null,modals:[],currentModal:0,total:0,p_type:"portfolio",build:function(t,e){var o=this;o.$wrapper=t,o.$wrapper&&(o.modals=[],o.total=0,o.p_type=e,t.find("a[data-ajax-on-modal]").each((function(){o.add(a(this))})),t.off("mousedown","a[data-ajax-on-modal]").on("mousedown","a[data-ajax-on-modal]",(function(t){if(2==t.which)return t.preventDefault(),!1})))},add:function(t){var a=this,e=t.attr("href"),o=a.total;a.modals.push({src:e}),a.total++,t.off("click").on("click",(function(t){return t.preventDefault(),a.show(o),!1}))},next:function(){var t=this;t.currentModal+1<t.total?t.show(t.currentModal+1):t.show(0)},prev:function(){var t=this;t.currentModal-1>=0?t.show(t.currentModal-1):t.show(t.total-1)},show:function(o){var n=this;if(n.currentModal=o,o<0||o>n.total-1)return!1;a.magnificPopup.close(),a.magnificPopup.open(a.extend(!0,{},t.mfpConfig,{type:"ajax",items:n.modals,gallery:{enabled:!0},ajax:{settings:{type:"post",data:{ajax_action:n.p_type+"_ajax_modal"}}},mainClass:n.p_type+"-ajax-modal",fixedContentPos:!1,callbacks:{parseAjax:function(t){var e=a(t.data),o=e.find("#content article."+n.p_type),i=e.filter('style[data-type]:not("")'),l="";i.each((function(){l+=a(this).text()})),a("#"+n.p_type+"AjaxCSS").get(0)?a("#"+n.p_type+"AjaxCSS").text(l):a('<style id="'+n.p_type+'AjaxCSS">'+l+"</style>").appendTo("head"),o.find("."+n.p_type+"-nav-all").html('<a href="#" data-ajax-'+n.p_type+'-close data-bs-tooltip data-original-title="'+js_porto_vars.popup_close+'" data-bs-placement="bottom"><i class="fas fa-th"></i></a>'),o.find("."+n.p_type+"-nav").html('<a href="#" data-ajax-'+n.p_type+'-prev class="'+n.p_type+'-nav-prev" data-bs-tooltip data-original-title="'+js_porto_vars.popup_prev+'" data-bs-placement="bottom"><i class="fa"></i></a><a href="#" data-toggle="tooltip" data-ajax-'+n.p_type+'-next class="'+n.p_type+'-nav-next" data-bs-tooltip data-original-title="'+js_porto_vars.popup_next+'" data-bs-placement="bottom"><i class="fa"></i></a>'),o.find(".elementor-invisible").removeClass("elementor-invisible"),0==o.length&&(o=e.find(".main-content>.porto-block")),t.data='<div class="ajax-container">'+o.html()+"</div>"},ajaxContentAdded:function(){var o=a("."+n.p_type+"-ajax-modal");o.find("a[data-ajax-"+n.p_type+"-close]").on("click",(function(t){return t.preventDefault(),a.magnificPopup.close(),!1})),e=o.find(".rev_slider, rs-module"),n.modals.length<=1?o.find("a[data-ajax-"+n.p_type+"-prev], a[data-ajax-"+n.p_type+"-next]").remove():(o.find("a[data-ajax-"+n.p_type+"-prev]").on("click",(function(t){if(t.preventDefault(),e&&e.get(0))try{e.revkill()}catch(t){}return o.find(".mfp-arrow-left").trigger("click"),!1})),o.find("a[data-ajax-"+n.p_type+"-next]").on("click",(function(t){if(t.preventDefault(),e&&e.get(0))try{e.revkill()}catch(t){}return o.find(".mfp-arrow-right").trigger("click"),!1}))),"portfolio"==n.p_type&&a(window).trigger("resize"),porto_init(),t.refreshVCContent(o),setTimeout((function(){var t=o.find("video");t.get(0)&&t.each((function(){a(this)[0].play(),a(this).parent().parent().parent().find(".video-controls").attr("data-action","play"),a(this).parent().parent().parent().find(".video-controls").html('<i class="ult-vid-cntrlpause"></i>')}))}),600),o.off("scroll").on("scroll",(function(){a.fn.appear.run()}))},change:function(){a(".mfp-wrap .ajax-container").trigger("click")},beforeClose:function(){if(e&&e.get(0))try{e.revkill()}catch(t){}a("."+n.p_type+"-ajax-modal").off("scroll")}}}),o)}};return this.$elements.each((function(){var t=a(this);t.find("a[data-ajax-on-modal]").get(0)&&(t.data(o+"AjaxOnModal")||(n.build(t,o),t.data(o+"AjaxOnModal",n)))})),this}}}),a(document.documentElement).on("keydown",(function(t){try{37!=t.keyCode&&39!=t.keyCode||e&&e.get(0)&&e.revkill()}catch(t){}}))}).apply(this,[window.theme,jQuery]),jQuery(document).ready((function(t){"use strict";void 0!==theme.PostAjaxModal&&(t(".page-portfolios").length&&t(".page-portfolios").each((function(){theme.PostAjaxModal.initialize(t(this))})),t(".page-members").length&&t(".page-members").each((function(){theme.PostAjaxModal.initialize(t(this),"member")})))}));